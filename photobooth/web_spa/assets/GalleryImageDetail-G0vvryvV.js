import{t as le,x as q,f as D,r as U,b6 as je,U as jt,a1 as Rt,w as ne,a4 as fe,M as At,O as Pt,au as Ht,V as Kt,N as Yt,aC as Nt,h as Jt,W as Gt,I as z,am as Wt,P as Xt,aM as Zt,p as kt,bd as Oe,b8 as $t,E as Lt,_ as qt,c as A,k as L,l as k,d as O,G as re,H as He,Q as ie,n as F,B as V,D as J,F as oe,j as Ke,m as M,Y as en,X as ge,a9 as Ye,ad as tn,ae as nn,z as he,C as Je,K as rn,s as on,af as Ge}from"./index-fve9Nqks.js";import{Q as an,a as ln}from"./QHeader-r5wcg7Ak.js";import{Q as We}from"./QLinearProgress-D2Gn-eOa.js";import{c as sn,u as un,a as cn,b as dn,Q as fn,e as gn}from"./use-panel-B-IorhyV.js";import{u as hn,a as mn,b as yn}from"./use-fullscreen-C0xoTVFS.js";import{Q as vn}from"./QPageSticky-CYQQ0pAV.js";import{Q as wn,a as Xe}from"./QLayout-DjfBVtNR.js";import{Q as Sn,a as _n}from"./QBtnDropdown-DdyyvpGI.js";const me=le({name:"QSpace",setup(){const e=q("div",{class:"q-space"});return()=>e}}),Cn={ratio:[String,Number]};function pn(e,n){return D(()=>{const i=Number(e.ratio||(n!==void 0?n.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const bn=1.7778,En=le({name:"QImg",props:{...Cn,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:bn},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:n,emit:i}){const t=U(e.initialRatio),r=pn(e,t),o=At(),{registerTimeout:a,removeTimeout:s}=je(),{registerTimeout:l,removeTimeout:c}=je(),g=D(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),C=D(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),m=[U(null),U(g.value)],d=U(0),E=U(!1),T=U(!1),P=D(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),I=D(()=>({width:e.width,height:e.height})),R=D(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),B=D(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function p(){if(c(),e.loadingShowDelay===0){E.value=!0;return}l(()=>{E.value=!0},e.loadingShowDelay)}function N(){c(),E.value=!1}function y({target:u}){fe(o)===!1&&(s(),t.value=u.naturalHeight===0?.5:u.naturalWidth/u.naturalHeight,S(u,1))}function S(u,f){f===1e3||fe(o)===!0||(u.complete===!0?_(u):a(()=>{S(u,f+1)},50))}function _(u){fe(o)!==!0&&(d.value=d.value^1,m[d.value].value=null,N(),u.getAttribute("__qerror")!=="true"&&(T.value=!1),i("load",u.currentSrc||u.src))}function v(u){s(),N(),T.value=!0,m[d.value].value=C.value,m[d.value^1].value=g.value,i("error",u)}function h(u){const f=m[u].value,b={key:"img_"+u,class:R.value,style:B.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...f};return d.value===u?Object.assign(b,{class:b.class+"current",onLoad:y,onError:v}):b.class+="loaded",q("div",{class:"q-img__container absolute-full",key:"img"+u},q("img",b))}function w(){return E.value===!1?q("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Pt(n[T.value===!0?"error":"default"])):q("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},n.loading!==void 0?n.loading():e.noSpinner===!0?void 0:[q(Ht,{color:e.spinnerColor,size:e.spinnerSize})])}{let u=function(){ne(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,f=>{s(),T.value=!1,f===null?(N(),m[d.value^1].value=g.value):p(),m[d.value].value=f},{immediate:!0})};jt.value===!0?Rt(u):u()}return()=>{const u=[];return r.value!==null&&u.push(q("div",{key:"filler",style:r.value})),m[0].value!==null&&u.push(h(0)),m[1].value!==null&&u.push(h(1)),u.push(q(Kt,{name:"q-transition--fade"},w)),q("div",{key:"main",class:P.value,style:I.value,role:"img","aria-label":e.alt},u)}}}),In=le({name:"QCarouselSlide",props:{...sn,imgSrc:String},setup(e,{slots:n}){const i=D(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>q("div",{class:"q-carousel__slide",style:i.value},Pt(n.default))}}),Bn=["top","right","bottom","left"],Tn=["regular","flat","outline","push","unelevated"],Rn=le({name:"QCarousel",props:{...Xt,...dn,...yn,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Tn.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Bn.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...mn,...cn],setup(e,{slots:n}){const{proxy:{$q:i}}=At(),t=Yt(e,i);let r=null,o;const{updatePanelsList:a,getPanelContent:s,panelDirectives:l,goToPanel:c,previousPanel:g,nextPanel:C,getEnabledPanels:m,panelIndex:d}=un(),{inFullscreen:E}=hn(),T=D(()=>E.value!==!0&&e.height!==void 0?{height:e.height}:{}),P=D(()=>e.vertical===!0?"vertical":"horizontal"),I=D(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),R=D(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(E.value===!0?" fullscreen":"")+(t.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${P.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${I.value}`:"")),B=D(()=>{const h=[e.prevIcon||i.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||i.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&i.lang.rtl===!0?h.reverse():h}),p=D(()=>e.navigationIcon||i.iconSet.carousel.navigationIcon),N=D(()=>e.navigationActiveIcon||p.value),y=D(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));ne(()=>e.modelValue,()=>{e.autoplay&&S()}),ne(()=>e.autoplay,h=>{h?S():r!==null&&(clearTimeout(r),r=null)});function S(){const h=Nt(e.autoplay)===!0?Math.abs(e.autoplay):5e3;r!==null&&clearTimeout(r),r=setTimeout(()=>{r=null,h>=0?C():g()},h)}Rt(()=>{e.autoplay&&S()}),Jt(()=>{r!==null&&clearTimeout(r)});function _(h,w){return q("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${h} q-carousel__navigation--${I.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[q("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},m().map(w))])}function v(){const h=[];if(e.navigation===!0){const w=n["navigation-icon"]!==void 0?n["navigation-icon"]:f=>q(z,{key:"nav"+f.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${f.active===!0?"":"in"}active`,...f.btnProps,onClick:f.onClick}),u=o-1;h.push(_("buttons",(f,b)=>{const x=f.props.name,K=d.value===b;return w({index:b,maxIndex:u,name:x,active:K,btnProps:{icon:K===!0?N.value:p.value,size:"sm",...y.value},onClick:()=>{c(x)}})}))}else if(e.thumbnails===!0){const w=e.controlColor!==void 0?` text-${e.controlColor}`:"";h.push(_("thumbnails",u=>{const f=u.props;return q("img",{key:"tmb#"+f.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${f.name===e.modelValue?"":"in"}active`+w,src:f.imgSrc||f["img-src"],onClick:()=>{c(f.name)}})}))}return e.arrows===!0&&d.value>=0&&((e.infinite===!0||d.value>0)&&h.push(q("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${P.value} absolute flex flex-center`},[q(z,{icon:B.value[0],...y.value,onClick:g})])),(e.infinite===!0||d.value<o-1)&&h.push(q("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${P.value} absolute flex flex-center`},[q(z,{icon:B.value[1],...y.value,onClick:C})]))),Wt(n.control,h)}return()=>(o=a(n),q("div",{class:R.value,style:T.value},[Gt("div",{class:"q-carousel__slides-container"},s(),"sl-cont",e.swipeable,()=>l.value)].concat(v())))}});var Z={},ye,Ze;function An(){return Ze||(Ze=1,ye=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),ye}var ve={},Y={},$e;function G(){if($e)return Y;$e=1;let e;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Y.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17},Y.getSymbolTotalCodewords=function(t){return n[t]},Y.getBCHDigit=function(i){let t=0;for(;i!==0;)t++,i>>>=1;return t},Y.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');e=t},Y.isKanjiModeEnabled=function(){return typeof e<"u"},Y.toSJIS=function(t){return e(t)},Y}var we={},et;function Ve(){return et||(et=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+i)}}e.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return n(t)}catch{return r}}}(we)),we}var Se,tt;function Pn(){if(tt)return Se;tt=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(n){const i=Math.floor(n/8);return(this.buffer[i]>>>7-n%8&1)===1},put:function(n,i){for(let t=0;t<i;t++)this.putBit((n>>>i-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),n&&(this.buffer[i]|=128>>>this.length%8),this.length++}},Se=e,Se}var _e,nt;function Nn(){if(nt)return _e;nt=1;function e(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}return e.prototype.set=function(n,i,t,r){const o=n*this.size+i;this.data[o]=t,r&&(this.reservedBit[o]=!0)},e.prototype.get=function(n,i){return this.data[n*this.size+i]},e.prototype.xor=function(n,i,t){this.data[n*this.size+i]^=t},e.prototype.isReserved=function(n,i){return this.reservedBit[n*this.size+i]},_e=e,_e}var Ce={},rt;function kn(){return rt||(rt=1,function(e){const n=G().getSymbolSize;e.getRowColCoords=function(t){if(t===1)return[];const r=Math.floor(t/7)+2,o=n(t),a=o===145?26:Math.ceil((o-13)/(2*r-2))*2,s=[o-7];for(let l=1;l<r-1;l++)s[l]=s[l-1]-a;return s.push(6),s.reverse()},e.getPositions=function(t){const r=[],o=e.getRowColCoords(t),a=o.length;for(let s=0;s<a;s++)for(let l=0;l<a;l++)s===0&&l===0||s===0&&l===a-1||s===a-1&&l===0||r.push([o[s],o[l]]);return r}}(Ce)),Ce}var pe={},it;function Ln(){if(it)return pe;it=1;const e=G().getSymbolSize,n=7;return pe.getPositions=function(t){const r=e(t);return[[0,0],[r-n,0],[0,r-n]]},pe}var be={},ot;function qn(){return ot||(ot=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};e.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},e.from=function(r){return e.isValid(r)?parseInt(r,10):void 0},e.getPenaltyN1=function(r){const o=r.size;let a=0,s=0,l=0,c=null,g=null;for(let C=0;C<o;C++){s=l=0,c=g=null;for(let m=0;m<o;m++){let d=r.get(C,m);d===c?s++:(s>=5&&(a+=n.N1+(s-5)),c=d,s=1),d=r.get(m,C),d===g?l++:(l>=5&&(a+=n.N1+(l-5)),g=d,l=1)}s>=5&&(a+=n.N1+(s-5)),l>=5&&(a+=n.N1+(l-5))}return a},e.getPenaltyN2=function(r){const o=r.size;let a=0;for(let s=0;s<o-1;s++)for(let l=0;l<o-1;l++){const c=r.get(s,l)+r.get(s,l+1)+r.get(s+1,l)+r.get(s+1,l+1);(c===4||c===0)&&a++}return a*n.N2},e.getPenaltyN3=function(r){const o=r.size;let a=0,s=0,l=0;for(let c=0;c<o;c++){s=l=0;for(let g=0;g<o;g++)s=s<<1&2047|r.get(c,g),g>=10&&(s===1488||s===93)&&a++,l=l<<1&2047|r.get(g,c),g>=10&&(l===1488||l===93)&&a++}return a*n.N3},e.getPenaltyN4=function(r){let o=0;const a=r.data.length;for(let l=0;l<a;l++)o+=r.data[l];return Math.abs(Math.ceil(o*100/a/5)-10)*n.N4};function i(t,r,o){switch(t){case e.Patterns.PATTERN000:return(r+o)%2===0;case e.Patterns.PATTERN001:return r%2===0;case e.Patterns.PATTERN010:return o%3===0;case e.Patterns.PATTERN011:return(r+o)%3===0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(o/3))%2===0;case e.Patterns.PATTERN101:return r*o%2+r*o%3===0;case e.Patterns.PATTERN110:return(r*o%2+r*o%3)%2===0;case e.Patterns.PATTERN111:return(r*o%3+(r+o)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}e.applyMask=function(r,o){const a=o.size;for(let s=0;s<a;s++)for(let l=0;l<a;l++)o.isReserved(l,s)||o.xor(l,s,i(r,l,s))},e.getBestMask=function(r,o){const a=Object.keys(e.Patterns).length;let s=0,l=1/0;for(let c=0;c<a;c++){o(c),e.applyMask(c,r);const g=e.getPenaltyN1(r)+e.getPenaltyN2(r)+e.getPenaltyN3(r)+e.getPenaltyN4(r);e.applyMask(c,r),g<l&&(l=g,s=c)}return s}}(be)),be}var te={},at;function Mt(){if(at)return te;at=1;const e=Ve(),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return te.getBlocksCount=function(r,o){switch(o){case e.L:return n[(r-1)*4+0];case e.M:return n[(r-1)*4+1];case e.Q:return n[(r-1)*4+2];case e.H:return n[(r-1)*4+3];default:return}},te.getTotalCodewordsCount=function(r,o){switch(o){case e.L:return i[(r-1)*4+0];case e.M:return i[(r-1)*4+1];case e.Q:return i[(r-1)*4+2];case e.H:return i[(r-1)*4+3];default:return}},te}var Ee={},$={},lt;function Mn(){if(lt)return $;lt=1;const e=new Uint8Array(512),n=new Uint8Array(256);return function(){let t=1;for(let r=0;r<255;r++)e[r]=t,n[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)e[r]=e[r-255]}(),$.log=function(t){if(t<1)throw new Error("log("+t+")");return n[t]},$.exp=function(t){return e[t]},$.mul=function(t,r){return t===0||r===0?0:e[n[t]+n[r]]},$}var st;function Dn(){return st||(st=1,function(e){const n=Mn();e.mul=function(t,r){const o=new Uint8Array(t.length+r.length-1);for(let a=0;a<t.length;a++)for(let s=0;s<r.length;s++)o[a+s]^=n.mul(t[a],r[s]);return o},e.mod=function(t,r){let o=new Uint8Array(t);for(;o.length-r.length>=0;){const a=o[0];for(let l=0;l<r.length;l++)o[l]^=n.mul(r[l],a);let s=0;for(;s<o.length&&o[s]===0;)s++;o=o.slice(s)}return o},e.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let o=0;o<t;o++)r=e.mul(r,new Uint8Array([1,n.exp(o)]));return r}}(Ee)),Ee}var Ie,ut;function Fn(){if(ut)return Ie;ut=1;const e=Dn();function n(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}return n.prototype.initialize=function(t){this.degree=t,this.genPoly=e.generateECPolynomial(this.degree)},n.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const o=e.mod(r,this.genPoly),a=this.degree-o.length;if(a>0){const s=new Uint8Array(this.degree);return s.set(o,a),s}return o},Ie=n,Ie}var Be={},Te={},Re={},ct;function Dt(){return ct||(ct=1,Re.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}),Re}var Q={},dt;function Ft(){if(dt)return Q;dt=1;const e="[0-9]+",n="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const t="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+`)(?:.|[\r
]))+`;Q.KANJI=new RegExp(i,"g"),Q.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Q.BYTE=new RegExp(t,"g"),Q.NUMERIC=new RegExp(e,"g"),Q.ALPHANUMERIC=new RegExp(n,"g");const r=new RegExp("^"+i+"$"),o=new RegExp("^"+e+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Q.testKanji=function(l){return r.test(l)},Q.testNumeric=function(l){return o.test(l)},Q.testAlphanumeric=function(l){return a.test(l)},Q}var ft;function W(){return ft||(ft=1,function(e){const n=Dt(),i=Ft();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(o,a){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!n.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?o.ccBits[0]:a<27?o.ccBits[1]:o.ccBits[2]},e.getBestModeForData=function(o){return i.testNumeric(o)?e.NUMERIC:i.testAlphanumeric(o)?e.ALPHANUMERIC:i.testKanji(o)?e.KANJI:e.BYTE},e.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},e.isValid=function(o){return o&&o.bit&&o.ccBits};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+r)}}e.from=function(o,a){if(e.isValid(o))return o;try{return t(o)}catch{return a}}}(Te)),Te}var gt;function Un(){return gt||(gt=1,function(e){const n=G(),i=Mt(),t=Ve(),r=W(),o=Dt(),a=7973,s=n.getBCHDigit(a);function l(m,d,E){for(let T=1;T<=40;T++)if(d<=e.getCapacity(T,E,m))return T}function c(m,d){return r.getCharCountIndicator(m,d)+4}function g(m,d){let E=0;return m.forEach(function(T){const P=c(T.mode,d);E+=P+T.getBitsLength()}),E}function C(m,d){for(let E=1;E<=40;E++)if(g(m,E)<=e.getCapacity(E,d,r.MIXED))return E}e.from=function(d,E){return o.isValid(d)?parseInt(d,10):E},e.getCapacity=function(d,E,T){if(!o.isValid(d))throw new Error("Invalid QR Code version");typeof T>"u"&&(T=r.BYTE);const P=n.getSymbolTotalCodewords(d),I=i.getTotalCodewordsCount(d,E),R=(P-I)*8;if(T===r.MIXED)return R;const B=R-c(T,d);switch(T){case r.NUMERIC:return Math.floor(B/10*3);case r.ALPHANUMERIC:return Math.floor(B/11*2);case r.KANJI:return Math.floor(B/13);case r.BYTE:default:return Math.floor(B/8)}},e.getBestVersionForData=function(d,E){let T;const P=t.from(E,t.M);if(Array.isArray(d)){if(d.length>1)return C(d,P);if(d.length===0)return 1;T=d[0]}else T=d;return l(T.mode,T.getLength(),P)},e.getEncodedBits=function(d){if(!o.isValid(d)||d<7)throw new Error("Invalid QR Code version");let E=d<<12;for(;n.getBCHDigit(E)-s>=0;)E^=a<<n.getBCHDigit(E)-s;return d<<12|E}}(Be)),Be}var Ae={},ht;function On(){if(ht)return Ae;ht=1;const e=G(),n=1335,i=21522,t=e.getBCHDigit(n);return Ae.getEncodedBits=function(o,a){const s=o.bit<<3|a;let l=s<<10;for(;e.getBCHDigit(l)-t>=0;)l^=n<<e.getBCHDigit(l)-t;return(s<<10|l)^i},Ae}var Pe={},Ne,mt;function Vn(){if(mt)return Ne;mt=1;const e=W();function n(i){this.mode=e.NUMERIC,this.data=i.toString()}return n.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){let r,o,a;for(r=0;r+3<=this.data.length;r+=3)o=this.data.substr(r,3),a=parseInt(o,10),t.put(a,10);const s=this.data.length-r;s>0&&(o=this.data.substr(r),a=parseInt(o,10),t.put(a,s*3+1))},Ne=n,Ne}var ke,yt;function xn(){if(yt)return ke;yt=1;const e=W(),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(t){this.mode=e.ALPHANUMERIC,this.data=t}return i.getBitsLength=function(r){return 11*Math.floor(r/2)+6*(r%2)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(r){let o;for(o=0;o+2<=this.data.length;o+=2){let a=n.indexOf(this.data[o])*45;a+=n.indexOf(this.data[o+1]),r.put(a,11)}this.data.length%2&&r.put(n.indexOf(this.data[o]),6)},ke=i,ke}var Le,vt;function zn(){if(vt)return Le;vt=1;const e=W();function n(i){this.mode=e.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}return n.getBitsLength=function(t){return t*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){for(let t=0,r=this.data.length;t<r;t++)i.put(this.data[t],8)},Le=n,Le}var qe,wt;function Qn(){if(wt)return qe;wt=1;const e=W(),n=G();function i(t){this.mode=e.KANJI,this.data=t}return i.getBitsLength=function(r){return r*13},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let r;for(r=0;r<this.data.length;r++){let o=n.toSJIS(this.data[r]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[r]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),t.put(o,13)}},qe=i,qe}var Me={exports:{}},St;function jn(){return St||(St=1,function(e){var n={single_source_shortest_paths:function(i,t,r){var o={},a={};a[t]=0;var s=n.PriorityQueue.make();s.push(t,0);for(var l,c,g,C,m,d,E,T,P;!s.empty();){l=s.pop(),c=l.value,C=l.cost,m=i[c]||{};for(g in m)m.hasOwnProperty(g)&&(d=m[g],E=C+d,T=a[g],P=typeof a[g]>"u",(P||T>E)&&(a[g]=E,s.push(g,E),o[g]=c))}if(typeof r<"u"&&typeof a[r]>"u"){var I=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(I)}return o},extract_shortest_path_from_predecessor_list:function(i,t){for(var r=[],o=t;o;)r.push(o),i[o],o=i[o];return r.reverse(),r},find_path:function(i,t,r){var o=n.single_source_shortest_paths(i,t,r);return n.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(i){var t=n.PriorityQueue,r={},o;i=i||{};for(o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);return r.queue=[],r.sorter=i.sorter||t.default_sorter,r},default_sorter:function(i,t){return i.cost-t.cost},push:function(i,t){var r={value:i,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=n}(Me)),Me.exports}var _t;function Hn(){return _t||(_t=1,function(e){const n=W(),i=Vn(),t=xn(),r=zn(),o=Qn(),a=Ft(),s=G(),l=jn();function c(I){return unescape(encodeURIComponent(I)).length}function g(I,R,B){const p=[];let N;for(;(N=I.exec(B))!==null;)p.push({data:N[0],index:N.index,mode:R,length:N[0].length});return p}function C(I){const R=g(a.NUMERIC,n.NUMERIC,I),B=g(a.ALPHANUMERIC,n.ALPHANUMERIC,I);let p,N;return s.isKanjiModeEnabled()?(p=g(a.BYTE,n.BYTE,I),N=g(a.KANJI,n.KANJI,I)):(p=g(a.BYTE_KANJI,n.BYTE,I),N=[]),R.concat(B,p,N).sort(function(S,_){return S.index-_.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function m(I,R){switch(R){case n.NUMERIC:return i.getBitsLength(I);case n.ALPHANUMERIC:return t.getBitsLength(I);case n.KANJI:return o.getBitsLength(I);case n.BYTE:return r.getBitsLength(I)}}function d(I){return I.reduce(function(R,B){const p=R.length-1>=0?R[R.length-1]:null;return p&&p.mode===B.mode?(R[R.length-1].data+=B.data,R):(R.push(B),R)},[])}function E(I){const R=[];for(let B=0;B<I.length;B++){const p=I[B];switch(p.mode){case n.NUMERIC:R.push([p,{data:p.data,mode:n.ALPHANUMERIC,length:p.length},{data:p.data,mode:n.BYTE,length:p.length}]);break;case n.ALPHANUMERIC:R.push([p,{data:p.data,mode:n.BYTE,length:p.length}]);break;case n.KANJI:R.push([p,{data:p.data,mode:n.BYTE,length:c(p.data)}]);break;case n.BYTE:R.push([{data:p.data,mode:n.BYTE,length:c(p.data)}])}}return R}function T(I,R){const B={},p={start:{}};let N=["start"];for(let y=0;y<I.length;y++){const S=I[y],_=[];for(let v=0;v<S.length;v++){const h=S[v],w=""+y+v;_.push(w),B[w]={node:h,lastCount:0},p[w]={};for(let u=0;u<N.length;u++){const f=N[u];B[f]&&B[f].node.mode===h.mode?(p[f][w]=m(B[f].lastCount+h.length,h.mode)-m(B[f].lastCount,h.mode),B[f].lastCount+=h.length):(B[f]&&(B[f].lastCount=h.length),p[f][w]=m(h.length,h.mode)+4+n.getCharCountIndicator(h.mode,R))}}N=_}for(let y=0;y<N.length;y++)p[N[y]].end=0;return{map:p,table:B}}function P(I,R){let B;const p=n.getBestModeForData(I);if(B=n.from(R,p),B!==n.BYTE&&B.bit<p.bit)throw new Error('"'+I+'" cannot be encoded with mode '+n.toString(B)+`.
 Suggested mode is: `+n.toString(p));switch(B===n.KANJI&&!s.isKanjiModeEnabled()&&(B=n.BYTE),B){case n.NUMERIC:return new i(I);case n.ALPHANUMERIC:return new t(I);case n.KANJI:return new o(I);case n.BYTE:return new r(I)}}e.fromArray=function(R){return R.reduce(function(B,p){return typeof p=="string"?B.push(P(p,null)):p.data&&B.push(P(p.data,p.mode)),B},[])},e.fromString=function(R,B){const p=C(R,s.isKanjiModeEnabled()),N=E(p),y=T(N,B),S=l.find_path(y.map,"start","end"),_=[];for(let v=1;v<S.length-1;v++)_.push(y.table[S[v]].node);return e.fromArray(d(_))},e.rawSplit=function(R){return e.fromArray(C(R,s.isKanjiModeEnabled()))}}(Pe)),Pe}var Ct;function Kn(){if(Ct)return ve;Ct=1;const e=G(),n=Ve(),i=Pn(),t=Nn(),r=kn(),o=Ln(),a=qn(),s=Mt(),l=Fn(),c=Un(),g=On(),C=W(),m=Hn();function d(y,S){const _=y.size,v=o.getPositions(S);for(let h=0;h<v.length;h++){const w=v[h][0],u=v[h][1];for(let f=-1;f<=7;f++)if(!(w+f<=-1||_<=w+f))for(let b=-1;b<=7;b++)u+b<=-1||_<=u+b||(f>=0&&f<=6&&(b===0||b===6)||b>=0&&b<=6&&(f===0||f===6)||f>=2&&f<=4&&b>=2&&b<=4?y.set(w+f,u+b,!0,!0):y.set(w+f,u+b,!1,!0))}}function E(y){const S=y.size;for(let _=8;_<S-8;_++){const v=_%2===0;y.set(_,6,v,!0),y.set(6,_,v,!0)}}function T(y,S){const _=r.getPositions(S);for(let v=0;v<_.length;v++){const h=_[v][0],w=_[v][1];for(let u=-2;u<=2;u++)for(let f=-2;f<=2;f++)u===-2||u===2||f===-2||f===2||u===0&&f===0?y.set(h+u,w+f,!0,!0):y.set(h+u,w+f,!1,!0)}}function P(y,S){const _=y.size,v=c.getEncodedBits(S);let h,w,u;for(let f=0;f<18;f++)h=Math.floor(f/3),w=f%3+_-8-3,u=(v>>f&1)===1,y.set(h,w,u,!0),y.set(w,h,u,!0)}function I(y,S,_){const v=y.size,h=g.getEncodedBits(S,_);let w,u;for(w=0;w<15;w++)u=(h>>w&1)===1,w<6?y.set(w,8,u,!0):w<8?y.set(w+1,8,u,!0):y.set(v-15+w,8,u,!0),w<8?y.set(8,v-w-1,u,!0):w<9?y.set(8,15-w-1+1,u,!0):y.set(8,15-w-1,u,!0);y.set(v-8,8,1,!0)}function R(y,S){const _=y.size;let v=-1,h=_-1,w=7,u=0;for(let f=_-1;f>0;f-=2)for(f===6&&f--;;){for(let b=0;b<2;b++)if(!y.isReserved(h,f-b)){let x=!1;u<S.length&&(x=(S[u]>>>w&1)===1),y.set(h,f-b,x),w--,w===-1&&(u++,w=7)}if(h+=v,h<0||_<=h){h-=v,v=-v;break}}}function B(y,S,_){const v=new i;_.forEach(function(b){v.put(b.mode.bit,4),v.put(b.getLength(),C.getCharCountIndicator(b.mode,y)),b.write(v)});const h=e.getSymbolTotalCodewords(y),w=s.getTotalCodewordsCount(y,S),u=(h-w)*8;for(v.getLengthInBits()+4<=u&&v.put(0,4);v.getLengthInBits()%8!==0;)v.putBit(0);const f=(u-v.getLengthInBits())/8;for(let b=0;b<f;b++)v.put(b%2?17:236,8);return p(v,y,S)}function p(y,S,_){const v=e.getSymbolTotalCodewords(S),h=s.getTotalCodewordsCount(S,_),w=v-h,u=s.getBlocksCount(S,_),f=v%u,b=u-f,x=Math.floor(v/u),K=Math.floor(w/u),xt=K+1,xe=x-K,zt=new l(xe);let se=0;const ee=new Array(u),ze=new Array(u);let ue=0;const Qt=new Uint8Array(y.buffer);for(let X=0;X<u;X++){const de=X<b?K:xt;ee[X]=Qt.slice(se,se+de),ze[X]=zt.encode(ee[X]),se+=de,ue=Math.max(ue,de)}const ce=new Uint8Array(v);let Qe=0,j,H;for(j=0;j<ue;j++)for(H=0;H<u;H++)j<ee[H].length&&(ce[Qe++]=ee[H][j]);for(j=0;j<xe;j++)for(H=0;H<u;H++)ce[Qe++]=ze[H][j];return ce}function N(y,S,_,v){let h;if(Array.isArray(y))h=m.fromArray(y);else if(typeof y=="string"){let x=S;if(!x){const K=m.rawSplit(y);x=c.getBestVersionForData(K,_)}h=m.fromString(y,x||40)}else throw new Error("Invalid data");const w=c.getBestVersionForData(h,_);if(!w)throw new Error("The amount of data is too big to be stored in a QR Code");if(!S)S=w;else if(S<w)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+w+`.
`);const u=B(S,_,h),f=e.getSymbolSize(S),b=new t(f);return d(b,S),E(b),T(b,S),I(b,_,0),S>=7&&P(b,S),R(b,u),isNaN(v)&&(v=a.getBestMask(b,I.bind(null,b,_))),a.applyMask(v,b),I(b,_,v),{modules:b,version:S,errorCorrectionLevel:_,maskPattern:v,segments:h}}return ve.create=function(S,_){if(typeof S>"u"||S==="")throw new Error("No input text");let v=n.M,h,w;return typeof _<"u"&&(v=n.from(_.errorCorrectionLevel,n.M),h=c.from(_.version),w=a.from(_.maskPattern),_.toSJISFunc&&e.setToSJISFunction(_.toSJISFunc)),N(S,h,v,w)},ve}var De={},Fe={},pt;function Ut(){return pt||(pt=1,function(e){function n(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let t=i.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+i);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(o){return[o,o]}))),t.length===6&&t.push("F","F");const r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const r=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,o=t.width&&t.width>=21?t.width:void 0,a=t.scale||4;return{width:o,scale:o?4:a,margin:r,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,r){return r.width&&r.width>=t+r.margin*2?r.width/(t+r.margin*2):r.scale},e.getImageWidth=function(t,r){const o=e.getScale(t,r);return Math.floor((t+r.margin*2)*o)},e.qrToImageData=function(t,r,o){const a=r.modules.size,s=r.modules.data,l=e.getScale(a,o),c=Math.floor((a+o.margin*2)*l),g=o.margin*l,C=[o.color.light,o.color.dark];for(let m=0;m<c;m++)for(let d=0;d<c;d++){let E=(m*c+d)*4,T=o.color.light;if(m>=g&&d>=g&&m<c-g&&d<c-g){const P=Math.floor((m-g)/l),I=Math.floor((d-g)/l);T=C[s[P*a+I]?1:0]}t[E++]=T.r,t[E++]=T.g,t[E++]=T.b,t[E]=T.a}}}(Fe)),Fe}var bt;function Yn(){return bt||(bt=1,function(e){const n=Ut();function i(r,o,a){r.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=a,o.width=a,o.style.height=a+"px",o.style.width=a+"px"}function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(o,a,s){let l=s,c=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(c=t()),l=n.getOptions(l);const g=n.getImageWidth(o.modules.size,l),C=c.getContext("2d"),m=C.createImageData(g,g);return n.qrToImageData(m.data,o,l),i(C,c,g),C.putImageData(m,0,0),c},e.renderToDataURL=function(o,a,s){let l=s;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const c=e.render(o,a,l),g=l.type||"image/png",C=l.rendererOpts||{};return c.toDataURL(g,C.quality)}}(De)),De}var Ue={},Et;function Jn(){if(Et)return Ue;Et=1;const e=Ut();function n(r,o){const a=r.a/255,s=o+'="'+r.hex+'"';return a<1?s+" "+o+'-opacity="'+a.toFixed(2).slice(1)+'"':s}function i(r,o,a){let s=r+o;return typeof a<"u"&&(s+=" "+a),s}function t(r,o,a){let s="",l=0,c=!1,g=0;for(let C=0;C<r.length;C++){const m=Math.floor(C%o),d=Math.floor(C/o);!m&&!c&&(c=!0),r[C]?(g++,C>0&&m>0&&r[C-1]||(s+=c?i("M",m+a,.5+d+a):i("m",l,0),l=0,c=!1),m+1<o&&r[C+1]||(s+=i("h",g),g=0)):l++}return s}return Ue.render=function(o,a,s){const l=e.getOptions(a),c=o.modules.size,g=o.modules.data,C=c+l.margin*2,m=l.color.light.a?"<path "+n(l.color.light,"fill")+' d="M0 0h'+C+"v"+C+'H0z"/>':"",d="<path "+n(l.color.dark,"stroke")+' d="'+t(g,c,l.margin)+'"/>',E='viewBox="0 0 '+C+" "+C+'"',P='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+E+' shape-rendering="crispEdges">'+m+d+`</svg>
`;return typeof s=="function"&&s(null,P),P},Ue}var It;function Gn(){if(It)return Z;It=1;const e=An(),n=Kn(),i=Yn(),t=Jn();function r(o,a,s,l,c){const g=[].slice.call(arguments,1),C=g.length,m=typeof g[C-1]=="function";if(!m&&!e())throw new Error("Callback required as last argument");if(m){if(C<2)throw new Error("Too few arguments provided");C===2?(c=s,s=a,a=l=void 0):C===3&&(a.getContext&&typeof c>"u"?(c=l,l=void 0):(c=l,l=s,s=a,a=void 0))}else{if(C<1)throw new Error("Too few arguments provided");return C===1?(s=a,a=l=void 0):C===2&&!a.getContext&&(l=s,s=a,a=void 0),new Promise(function(d,E){try{const T=n.create(s,l);d(o(T,a,l))}catch(T){E(T)}})}try{const d=n.create(s,l);c(null,o(d,a,l))}catch(d){c(d)}}return Z.create=n.create,Z.toCanvas=r.bind(null,i.render),Z.toDataURL=r.bind(null,i.renderToDataURL),Z.toString=r.bind(null,function(o,a,s){return t.render(o,s)}),Z}var Wn=Gn();const Xn=Zt(Wn);var Zn=Object.defineProperty,$n=Object.defineProperties,er=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,Bt=(e,n,i)=>n in e?Zn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,tr=(e,n)=>{for(var i in n||(n={}))Ot.call(n,i)&&Bt(e,i,n[i]);if(ae)for(var i of ae(n))Vt.call(n,i)&&Bt(e,i,n[i]);return e},nr=(e,n)=>$n(e,er(n)),rr=(e,n)=>{var i={};for(var t in e)Ot.call(e,t)&&n.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&ae)for(var t of ae(e))n.indexOf(t)<0&&Vt.call(e,t)&&(i[t]=e[t]);return i};const ir=["low","medium","quartile","high","L","M","Q","H"],or=[0,1,2,3,4,5,6,7],ar=["alphanumeric","numeric","kanji","byte"],lr=["image/png","image/jpeg","image/webp"],sr=40;var ur=kt({props:{version:{type:Number,validator:e=>e===Number.parseInt(String(e),10)&&e>=1&&e<=sr},errorCorrectionLevel:{type:String,validator:e=>ir.includes(e)},maskPattern:{type:Number,validator:e=>or.includes(e)},toSJISFunc:Function,margin:Number,scale:Number,width:Number,color:{type:Object,validator:e=>["dark","light"].every(n=>["string","undefined"].includes(typeof e[n])),required:!0},type:{type:String,validator:e=>lr.includes(e),required:!0},quality:{type:Number,validator:e=>e===Number.parseFloat(String(e))&&e>=0&&e<=1,required:!1},value:{type:[String,Array],required:!0,validator(e){return typeof e=="string"?!0:e.every(n=>typeof n.data=="string"&&"mode"in n&&n.mode&&ar.includes(n.mode))}}},setup(e,{attrs:n,emit:i}){const t=U();return ne(e,()=>{const o=e,{quality:a,value:s}=o,l=rr(o,["quality","value"]);Xn.toDataURL(s,Object.assign(l,a==null||{renderOptions:{quality:a}})).then(c=>{t.value=c,i("change",c)}).catch(c=>i("error",c))},{immediate:!0}),()=>q("img",nr(tr({},n),{src:t.value}))}});function cr(e){const n=Object.assign({noopener:!0},e),i=[];for(const t in n){const r=n[t];r===!0?i.push(t):(Nt(r)||typeof r=="string"&&r!=="")&&i.push(t+"="+r)}return i.join(",")}function Tt(e,n,i){let t=window.open;if(Oe.is.cordova===!0){if(cordova!==void 0&&cordova.InAppBrowser!==void 0&&cordova.InAppBrowser.open!==void 0)t=cordova.InAppBrowser.open;else if(navigator!==void 0&&navigator.app!==void 0)return navigator.app.loadUrl(e,{openExternal:!0})}const r=t(e,"_blank",cr(i));if(r)return Oe.is.desktop&&r.focus(),r;n&&n()}const dr=(e,n,i)=>{if(Oe.is.ios===!0&&window.SafariViewController!==void 0){window.SafariViewController.isAvailable(t=>{t?window.SafariViewController.show({url:e},$t,n):Tt(e,n,i)});return}return Tt(e,n,i)},fr=kt({__name:"ShareTriggerButtons",props:{triggers:{},directAccessNumberOfButtons:{},currentItemIsImage:{type:Boolean}},emits:["triggerAction"],setup(e,{expose:n,emit:i}){n();const t=e;function r(l){return console.log(t.currentItemIsImage,l),!t.currentItemIsImage&&l}const o=i;function a(l){console.log(`trigger share config_index ${l}`),o("triggerAction",l)}const s={props:t,getShareAvailable:r,emit:o,triggerButtonClick:a,get isEmpty(){return Lt.isEmpty}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function gr(e,n,i,t,r,o){return A(),L(_n,{rounded:""},{default:k(()=>[(A(!0),O(oe,null,re(i.triggers.slice(0,i.directAccessNumberOfButtons),(a,s)=>(A(),O("div",{key:s},[a.show_button&&!(t.isEmpty(a.title)&&t.isEmpty(a.icon))?(A(),L(z,{key:0,flat:"",rounded:"",disabled:t.getShareAvailable(a.handles_images_only),class:He(["share-button",["share-button-"+s]]),onClick:l=>t.triggerButtonClick(a.config_index)},{default:k(()=>[t.isEmpty(a.icon)?F("",!0):(A(),L(ie,{key:0,class:"q-mr-sm",name:`sym_o_${a.icon}`},null,8,["name"])),V("div",null,J(a.title),1)]),_:2},1032,["disabled","class","onClick"])):F("",!0)]))),128)),i.triggers.length>i.directAccessNumberOfButtons?(A(),L(Sn,{key:0,"auto-close":"",rounded:"",color:"primary",label:"more"},{default:k(()=>[(A(!0),O(oe,null,re(i.triggers.slice(i.directAccessNumberOfButtons),(a,s)=>(A(),O("div",{key:s,padding:"",style:{width:"250px"}},[a.show_button&&!(t.isEmpty(a.title)&&t.isEmpty(a.icon))?(A(),L(z,{key:0,flat:"",disabled:t.getShareAvailable(a.handles_images_only),class:He(["share-button full-width",["share-button-"+s]]),onClick:l=>t.triggerButtonClick(a.config_index)},{default:k(()=>[t.isEmpty(a.icon)?F("",!0):(A(),L(ie,{key:0,class:"q-mr-sm",name:`sym_o_${a.icon}`},null,8,["name"])),V("div",null,J(a.title),1)]),_:2},1032,["disabled","class","onClick"])):F("",!0)]))),128))]),_:1})):F("",!0)]),_:1})}const hr=qt(fr,[["render",gr],["__file","ShareTriggerButtons.vue"]]),mr={components:{VueQrcode:ur,ShareTriggerButtons:hr},props:{indexSelected:{type:Number,required:!0},itemRepository:{type:Array,required:!0},startTimerOnOpen:{type:Boolean,required:!1,default:!1},singleItemView:{type:Boolean,default:!1},showToolbar:{type:Boolean,default:!0},slideshowTimeout:{type:Number,default:0},slideshowUseFade:{type:Boolean,default:!1},randomOrder:{type:Boolean,default:!1}},emits:["closeEvent"],setup(){const e=on(),n=U(!1);return{configurationStore:e,openURL:dr,fabRight:U(!1),currentSlideId:U(""),currentSlideIndex:U(0),autoplay:U(!1),showFilterDialog:U(!1),displayLoadingSpinner:U(!1),confirmDeleteFile:U(!1),rightDrawerOpen:n,toggleRightDrawer(){n.value=!n.value},handleSwipeDown(){console.log("TODO: add method to close dialog programmatically")}}},data(){return{intervalTimerId:null,remainingSeconds:0,remainingSecondsNormalized:0,displayLinearProgressBar:!0}},computed:{emptyRepository(){return!this.itemRepository||this.itemRepository.length==0},slicedImages(){if(this.randomOrder)return this.currentSlideIndex,console.log(this.rndIncides.map(i=>this.itemRepository[i])),this.rndIncides.map(i=>this.itemRepository[i]);var e=Math.max(0,this.currentSlideIndex-2),n=Math.max(0,this.currentSlideIndex+3);return console.log(this.itemRepository.slice(e,n)),this.itemRepository.slice(e,n)},shareButtons(){const e=[];return this.configurationStore.getConfigElement("share.actions",[]).forEach((i,t)=>{const r=Lt.get(i,"trigger.ui_trigger");e.push({config_index:t,handles_images_only:i.handles_images_only,...r})}),console.log(e),e}},beforeCreate(){if(!this.emptyRepository){if(this.randomOrder){this.rndIncidesFull=Array.from(Array(this.itemRepository.length).keys());for(let e=this.rndIncidesFull.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1)),i=this.rndIncidesFull[e];this.rndIncidesFull[e]=this.rndIncidesFull[n],this.rndIncidesFull[n]=i}for(;this.rndIncidesFull.length<5;)this.rndIncidesFull.push(...this.rndIncidesFull);this.rndIncides=this.rndIncidesFull.slice(0,5),console.log("Initial random indices: ",this.rndIncides),this.currentSlideIndex=this.rndIncides[2]}else this.currentSlideIndex=this.indexSelected;console.log("currentSlideIndex:",this.currentSlideIndex),this.currentSlideId=this.itemRepository[this.currentSlideIndex].id}},mounted(){this.startTimerOnOpen&&this.startTimer()},beforeUnmount(){clearInterval(this.intervalTimerId)},methods:{async reloadImg(e){await fetch(e,{cache:"reload",mode:"no-cors"});const n=new Date().getTime();document.body.querySelectorAll(`img[src*='${e}']`).forEach(i=>{i.src=e+"#"+n})},applyFilter(e,n){this.displayLoadingSpinner=!0,fetch(`/api/mediaprocessing/applyfilter/${e}/${n}`).then(i=>{if(!i.ok)throw new Error("Server returned "+i.status);const t=this.itemRepository.findIndex(r=>r.id===e);this.reloadImg(this.itemRepository[t].full),this.reloadImg(this.itemRepository[t].preview),this.reloadImg(this.itemRepository[t].thumbnail),this.displayLoadingSpinner=!1}).catch(i=>{console.error(i),this.displayLoadingSpinner=!1})},deleteItem(e){fetch("/api/mediacollection/delete",{method:"POST",body:JSON.stringify({image_id:e}),headers:{"Content-Type":"application/json"}}).then(n=>{if(!n.ok)throw new Error("Server returned "+n.status)}).then(n=>{console.log(n)}).catch(n=>{console.error("There was a problem with the Fetch operation:",n),this.$q.notify({message:"Error deleting file! Please check logs and browser console.",type:"negative"})})},invokeShareAction(e){console.log(this.currentSlideId,e),rn(`/api/share/actions/${this.currentSlideId}/${e}`)},getFilterAvailable(e){return["image","collageimage","animationimage"].includes(e)},getImageQrData(){return this.itemRepository[this.currentSlideIndex].share_url},abortTimer(){clearInterval(this.intervalTimerId),this.remainingSeconds=0,this.remainingSecondsNormalized=0},startTimer(){var e=this.configurationStore.getConfigElement("uisettings.AUTOCLOSE_NEW_ITEM_ARRIVED",0);console.log(`starting newitemarrived timer, duration=${e}`),this.remainingSeconds=e,this.intervalTimerId=setInterval(()=>{this.remainingSecondsNormalized=this.remainingSeconds/e,this.remainingSeconds-=.05,this.remainingSeconds<=0&&(clearInterval(this.intervalTimerId),this.$router.push({path:"/"}))},50)}}},yr={class:"q-ml-sm"},vr={key:4,class:"q-mr-sm"},wr={class:"q-mr-sm"},Sr={class:"text-center text-overline"},_r={class:"absolute-bottom-right text-subtitle1 text-center",style:{padding:"4px","pointer-events":"none"}},Cr={key:0,class:"full-height"},pr={key:0,class:"full-height"},br=["src"],Er={key:1,class:"full-height"},Ir=["src"],Br={key:1,class:"full-height"},Tr={key:0,class:"full-height"},Rr=["src"],Ar={key:1,class:"full-height"},Pr=["src"];function Nr(e,n,i,t,r,o){const a=Ke("ShareTriggerButtons"),s=Ke("vue-qrcode");return o.emptyRepository?(A(),L(Xe,{key:1,view:"hhh Lpr ffr"},{default:k(()=>n[8]||(n[8]=[Je("EMPTY")])),_:1})):(A(),L(Xe,{key:0,view:"hhh Lpr ffr",onClick:o.abortTimer},{default:k(()=>[M(ln,{class:"bg-primary text-white"},{default:k(()=>[i.showToolbar?(A(),L(an,{key:0,id:"gallery-toolbar",class:"toolbar"},{default:k(()=>[M(z,{dense:"",flat:"",icon:"sym_o_close",size:"1.5rem",onClick:n[0]||(n[0]=l=>e.$emit("closeEvent"))}),M(me),t.configurationStore.getConfigElement("uisettings.gallery_show_download",!1)?(A(),L(z,{key:0,flat:"",class:"q-mr-sm",icon:"sym_o_download",label:e.$t("BTN_LABEL_GALLERY_DOWNLOAD"),onClick:n[1]||(n[1]=l=>{t.openURL(i.itemRepository[t.currentSlideIndex].full)})},null,8,["label"])):F("",!0),t.configurationStore.getConfigElement("uisettings.gallery_show_delete",!1)||i.singleItemView?(A(),L(z,{key:1,flat:"",class:"q-mr-sm",icon:"sym_o_delete",label:e.$t("BTN_LABEL_GALLERY_DELETE"),onClick:n[2]||(n[2]=l=>t.confirmDeleteFile=!0)},null,8,["label"])):F("",!0),M(en,{modelValue:t.confirmDeleteFile,"onUpdate:modelValue":n[4]||(n[4]=l=>t.confirmDeleteFile=l)},{default:k(()=>[M(ge,{id:"gallery-confirm-delete-dialog",class:"q-pa-sm",style:{"min-width":"350px"}},{default:k(()=>[M(Ye,{class:"row items-center",style:{"flex-wrap":"nowrap"}},{default:k(()=>[M(tn,{icon:"sym_o_delete",color:"primary","text-color":"white"}),V("span",yr,J(e.$t("MSG_CONFIRM_DELETE_IMAGE")),1)]),_:1}),M(nn,{align:"right"},{default:k(()=>[he(M(z,{flat:"",label:e.$t("BTN_LABEL_CANCEL")},null,8,["label"]),[[Ge]]),he(M(z,{label:e.$t("BTN_LABEL_DELETE_IMAGE"),color:"primary",onClick:n[3]||(n[3]=l=>{o.deleteItem(t.currentSlideId),e.$emit("closeEvent")})},null,8,["label"]),[[Ge]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t.configurationStore.getConfigElement("uisettings.gallery_show_filter",!1)&&t.configurationStore.getConfigElement("uisettings.gallery_filter_userselectable",[]).length>0?(A(),L(z,{key:2,flat:"",class:"q-mr-sm",icon:"sym_o_filter",label:e.$t("BTN_LABEL_GALLERY_FILTER"),disabled:!o.getFilterAvailable(i.itemRepository[t.currentSlideIndex].media_type),onClick:t.toggleRightDrawer},null,8,["label","disabled","onClick"])):F("",!0),t.configurationStore.getConfigElement("share.sharing_enabled",!1)?(A(),L(a,{key:3,triggers:o.shareButtons,"direct-access-number-of-buttons":t.configurationStore.getConfigElement("share.number_direct_access_buttons",1),"current-item-is-image":["image","collage","collageimage","animationimage"].includes(i.itemRepository[t.currentSlideIndex].media_type),onTriggerAction:o.invokeShareAction},null,8,["triggers","direct-access-number-of-buttons","current-item-is-image","onTriggerAction"])):F("",!0),M(me),i.singleItemView?F("",!0):(A(),O("div",vr,[M(ie,{name:"sym_o_tag"}),V("span",null,J(e.$t("LABEL_ELEMENT_X_OF_Y",{no:t.currentSlideIndex+1,total:i.itemRepository.length})),1)])),M(me),V("div",wr,[M(ie,{name:"sym_o_image"}),Je(" "+J(i.itemRepository[t.currentSlideIndex].caption),1)])]),_:1})):F("",!0),r.displayLinearProgressBar&&r.remainingSeconds>0?(A(),L(We,{key:1,id:"gallery-linear-progress-bar",class:"absolute",value:r.remainingSecondsNormalized,"animation-speed":"200",color:"grey"},null,8,["value"])):F("",!0),t.displayLoadingSpinner?(A(),L(We,{key:2,class:"absolute",indeterminate:"","animation-speed":"2100",color:"primary"})):F("",!0)]),_:1}),t.configurationStore.getConfigElement("uisettings.gallery_show_filter",!1)&&o.getFilterAvailable(i.itemRepository[t.currentSlideIndex].media_type)&&i.showToolbar?(A(),L(fn,{key:0,id:"gallery-drawer-filters",modelValue:t.rightDrawerOpen,"onUpdate:modelValue":n[5]||(n[5]=l=>t.rightDrawerOpen=l),class:"q-pa-sm",side:"right",overlay:"",elevated:""},{default:k(()=>[V("div",Sr,J(e.$t("Choose your filter")),1),(A(!0),O(oe,null,re(t.configurationStore.getConfigElement("uisettings.gallery_filter_userselectable",[]),l=>(A(),L(ge,{key:l,bordered:"",class:"q-mb-sm no-shadow"},{default:k(()=>[M(Ye,{class:"q-pa-none"},{default:k(()=>[M(En,{class:"rounded-borders",loading:"lazy",src:`/api/mediaprocessing/preview/${t.currentSlideId}/${l}`,onClick:c=>o.applyFilter(t.currentSlideId,l)},{default:k(()=>[V("div",_r,J(l),1)]),_:2},1032,["src","onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])):F("",!0),M(wn,{class:"q-pa-none galleryimagedetail full-height"},{default:k(()=>[i.singleItemView?(A(),O("div",Cr,[M(ge,{class:"column no-wrap flex-center full-height q-pa-sm"},{default:k(()=>[i.itemRepository[0].media_type!="video"?(A(),O("div",pr,[V("img",{draggable:!1,class:"rounded-borders full-height",style:{"object-fit":"contain","max-width":"100%","max-height":"100%"},src:i.itemRepository[0].preview},null,8,br)])):(A(),O("div",Er,[V("video",{draggable:!1,src:i.itemRepository[0].preview,class:"rounded-borders full-height",muted:"",autoplay:"",style:{"object-fit":"contain","max-width":"100%","max-height":"100%"},loop:"",playsinline:"",controls:"",controlslist:"nofullscreen nodownload noremoteplayback noplaybackrate",disablepictureinpicture:""},null,8,Ir)]))]),_:1})])):(A(),O("div",Br,[he((A(),L(Rn,{modelValue:t.currentSlideId,"onUpdate:modelValue":n[6]||(n[6]=l=>t.currentSlideId=l),class:"",style:{width:"100%",height:"100%"},"control-type":"flat","control-color":"primary",swipeable:"",animated:"",autoplay:i.slideshowTimeout,draggable:"false",arrows:i.showToolbar,infinite:!0,"transition-prev":i.slideshowUseFade?"fade":"slide-right","transition-next":i.slideshowUseFade?"fade":"slide-left",onTransition:n[7]||(n[7]=(l,c)=>{if(i.randomOrder){let g=o.slicedImages.findIndex(C=>C.id==l);t.currentSlideIndex=e.rndIncides[g],g>2?e.rndIncidesFull.push(e.rndIncidesFull.shift()):e.rndIncidesFull.unshift(e.rndIncidesFull.pop()),e.rndIncides=e.rndIncidesFull.slice(0,5)}else t.currentSlideIndex=i.itemRepository.findIndex(g=>g.id===l);console.log("Showing slide ",t.currentSlideIndex),o.abortTimer()})},{default:k(()=>[(A(!0),O(oe,null,re(o.slicedImages,l=>(A(),L(In,{key:l.id,name:l.id,class:"column no-wrap flex-center full-height q-pa-sm"},{default:k(()=>[l.media_type!="video"?(A(),O("div",Tr,[V("img",{draggable:!1,class:"rounded-borders full-height",style:{"object-fit":"contain","max-width":"100%","max-height":"100%"},src:l.preview},null,8,Rr)])):(A(),O("div",Ar,[V("video",{autoplay:"",loop:"",muted:"",playsinline:"",draggable:!1,src:l.preview,class:"rounded-borders full-height",style:{"object-fit":"contain","max-width":"100%","max-height":"100%"},controls:"",controlslist:"nofullscreen nodownload noremoteplayback noplaybackrate",disablepictureinpicture:""},null,8,Pr)]))]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue","autoplay","arrows","transition-prev","transition-next"])),[[gn,t.handleSwipeDown,void 0,{mouse:!0,down:!0}]])])),t.configurationStore.getConfigElement("uisettings.gallery_show_qrcode",!1)&&i.showToolbar?(A(),L(vn,{key:2,position:"top-right",offset:[30,30]},{default:k(()=>[V("div",null,[M(s,{type:"image/png",tag:"svg",margin:2,width:200,"error-correction-level":"low",color:{dark:"#111111",light:"#EEEEEE"},value:o.getImageQrData()},null,8,["value"])])]),_:1})):F("",!0)]),_:1})]),_:1},8,["onClick"]))}const Vr=qt(mr,[["render",Nr],["__file","GalleryImageDetail.vue"]]);export{Vr as G,En as Q};
