import{b as a,Q as i,a as u}from"./QItem-DIS3Nw-j.js";import{d as z,aR as L,v as V,I as N,_ as D,f,k as s,l as t,A as w,m as e,V as y,Z as k,B as o,C as l,H as p,n as B,g as h,F as v,E as b,a0 as F,a2 as E,$ as G,y as I,a1 as R}from"./index-3YkxgYt2.js";import{Q}from"./QLinearProgress-Dvu2SPvp.js";import{Q as S}from"./QList-DWdUVFJ7.js";import{Q as O}from"./QSeparator-CAOhQJeT.js";import{Q as T}from"./QPage-DEgrlFF1.js";const H=z({__name:"AdminStatusPage",setup(n,{expose:_}){_();const P=L(),r=V(!1),g=V(""),m={store:P,confirm_reset_counter:r,selected_field:g,displayResetConfirm:c=>{g.value=c,r.value=!0},confirmAction:()=>{N("/api/admin/information/sttscntr/reset/"+g.value),r.value=!1}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),M={class:"row col-xs-12 col-sm-4 col-md-3 col-lg-3"},U={class:"q-ml-sm"};function Y(n,_,P,r,g,j){return f(),s(T,{id:"status-page",padding:""},{default:t(()=>[w("div",M,[e(y,{flat:"",class:"q-mr-md q-mb-md"},{default:t(()=>[e(k,null,{default:t(()=>[e(S,{separator:""},{default:t(()=>[e(a,{header:""},{default:t(()=>[o(l(n.$t("system information")),1)]),_:1}),e(i,null,{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(n.$t("data directory")),1)]),_:1}),e(a,null,{default:t(()=>[o(l(r.store.information.data_directory),1)]),_:1})]),_:1}),e(u,{side:""},{default:t(()=>[e(p,{flat:"",round:"",color:"primary",icon:"sym_o_folder_shared",to:"/admin/files"})]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(n.$t("app version")),1)]),_:1}),e(a,null,{default:t(()=>[o(l(r.store.information.version),1)]),_:1})]),_:1}),e(u,{side:""},{default:t(()=>[e(p,{flat:"",round:"",color:"primary",icon:"sym_o_upgrade",href:"https://pypi.org/project/photobooth-app/",target:"_blank"})]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(n.$t("cpu load")),1)]),_:1}),e(a,null,{default:t(()=>[e(Q,{size:"lg",value:r.store.information.cpu1_5_15[0]??0/100},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(n.$t("disk space")),1)]),_:1}),e(a,null,{default:t(()=>[e(Q,{size:"lg",value:r.store.information.disk.used/r.store.information.disk.total},null,8,["value"])]),_:1}),e(a,null,{default:t(()=>[o(l((r.store.information.disk.free/1024**3).toFixed(1))+l(n.$t("GB available")),1)]),_:1})]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(n.$t("memory")),1)]),_:1}),e(a,null,{default:t(()=>[e(Q,{size:"lg",value:r.store.information.memory.used/r.store.information.memory.total},null,8,["value"])]),_:1}),e(a,null,{default:t(()=>[o(l((r.store.information.memory.available/1024**3).toFixed(1))+l(n.$t("GB available")),1)]),_:1})]),_:1})]),_:1}),r.store.information.battery_percent!==null?(f(),s(i,{key:0},{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(n.$t("Battery")),1)]),_:1}),e(a,null,{default:t(()=>[e(Q,{size:"lg",value:r.store.information.battery_percent/100},null,8,["value"])]),_:1}),e(a,null,{default:t(()=>[o(l(r.store.information.battery_percent.toFixed(0))+"% ",1)]),_:1})]),_:1})]),_:1})):B("",!0),Object.keys(r.store.information.temperatures).length>0?(f(),s(i,{key:1},{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(n.$t("System Temperatures")),1)]),_:1}),(f(!0),h(v,null,b(r.store.information.temperatures,(d,m,c)=>(f(),s(i,{key:c},{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(m),1)]),_:2},1024),e(a,null,{default:t(()=>[o(l(d),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):B("",!0)]),_:1})]),_:1})]),_:1}),e(y,{flat:"",class:"q-mr-md q-mb-md"},{default:t(()=>[e(k,null,{default:t(()=>[e(S,{separator:""},{default:t(()=>[e(a,{header:""},{default:t(()=>[o(l(n.$t("platform")),1)]),_:1}),e(i,null,{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(n.$t("hostname")),1)]),_:1}),e(a,null,{default:t(()=>[o(l(r.store.information.platform_node),1)]),_:1})]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(n.$t("machine")),1)]),_:1}),e(a,null,{default:t(()=>[o(l(n.$t("{platform_machine}, {cpu_count} cores",{platform_machine:r.store.information.platform_machine,cpu_count:r.store.information.platform_cpu_count})),1)]),_:1})]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(n.$t("platform system")),1)]),_:1}),e(a,null,{default:t(()=>[o(l(r.store.information.platform_system)+" "+l(r.store.information.platform_release),1)]),_:1})]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(n.$t("computer model")),1)]),_:1}),e(a,null,{default:t(()=>[o(l(r.store.information.model),1)]),_:1})]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(n.$t("python executable")),1)]),_:1}),e(a,null,{default:t(()=>[o(l(r.store.information.python_executable),1)]),_:1})]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(n.$t("python version")),1)]),_:1}),e(a,null,{default:t(()=>[o(l(r.store.information.platform_python_version),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(f(!0),h(v,null,b(r.store.information.backends,(d,m,c)=>(f(),s(y,{key:c,flat:"",class:"q-mr-md q-mb-md"},{default:t(()=>[e(k,null,{default:t(()=>[e(S,{separator:""},{default:t(()=>[e(a,{header:""},{default:t(()=>[o(l(n.$t("Backend Index: "))+l(c),1)]),_:2},1024),(f(!0),h(v,null,b(d,(C,q,A)=>(f(),s(i,{key:A},{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(q),1)]),_:2},1024),e(a,null,{default:t(()=>[o(l(C),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),e(y,{flat:"",class:"q-mr-md q-mb-md"},{default:t(()=>[e(k,null,{default:t(()=>[e(S,{separator:""},{default:t(()=>[e(a,{header:""},{default:t(()=>[o(l(n.$t("Stats counter")),1)]),_:1}),(f(!0),h(v,null,b(r.store.information.stats_counter,(d,m,c)=>(f(),s(i,{key:c},{default:t(()=>[e(u,null,{default:t(()=>[e(a,{caption:""},{default:t(()=>[o(l(m),1)]),_:2},1024),d&&typeof d=="object"?(f(),s(a,{key:0},{default:t(()=>[(f(!0),h(v,null,b(d,(C,q,A)=>(f(),s(a,{key:A},{default:t(()=>[o(l(q)+": "+l(C),1)]),_:2},1024))),128))]),_:2},1024)):(f(),s(a,{key:1},{default:t(()=>[o(l(d),1)]),_:2},1024))]),_:2},1024),["last_reset"].includes(m)?B("",!0):(f(),s(u,{key:0,side:""},{default:t(()=>[e(p,{flat:"",color:"primary",icon:"sym_o_history",onClick:C=>r.displayResetConfirm(m)},null,8,["onClick"])]),_:2},1024))]),_:2},1024))),128))]),_:1})]),_:1}),e(O),e(F,{align:"right"},{default:t(()=>[e(p,{flat:"",color:"primary",icon:"sym_o_history",label:"reset",onClick:_[0]||(_[0]=d=>r.displayResetConfirm(""))})]),_:1})]),_:1})]),e(E,{modelValue:r.confirm_reset_counter,"onUpdate:modelValue":_[2]||(_[2]=d=>r.confirm_reset_counter=d)},{default:t(()=>[e(y,{class:"q-pa-sm"},{default:t(()=>[e(k,{class:"row items-center",style:{"flex-wrap":"nowrap"}},{default:t(()=>[e(G,{icon:"sym_o_history",color:"primary","text-color":"white"}),w("span",U,l(n.$t("Are you sure to reset the counter?")),1)]),_:1}),e(F,{align:"right"},{default:t(()=>[I(e(p,{flat:"",label:"Cancel",color:"primary"},null,512),[[R]]),I(e(p,{label:"Yes, reset!",color:"primary",onClick:_[1]||(_[1]=d=>r.confirmAction())},null,512),[[R]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const x=D(H,[["render",Y],["__file","AdminStatusPage.vue"]]);export{x as default};
