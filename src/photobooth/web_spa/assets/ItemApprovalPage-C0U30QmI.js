import{Q as y}from"./QImg-Ecjwi86K.js";import{d as C,u as k,n as A,M as L,f as c,w as t,c as P,i as u,g as e,C as p,Q as m,x as s,H as d,z as f,y as Q,r as _}from"./index-DvAVmX7Y.js";import{Q as g}from"./QPageSticky-BYN1iBfn.js";import{Q as I}from"./QBadge-DDiIuhce.js";import{Q as M}from"./QPage-Di3zMOIw.js";import{I as O}from"./ItemNotAvailableError-BzB3qA8V.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"q-mb-lg action-buttons col"},q={class:"q-mb-sm row flex flex-center"},w={class:"row"},N=C({__name:"ItemApprovalPage",setup(R){const l=P(),r=k(),n=A(!0);L(()=>{n.value=!0});const b=()=>{_("/api/processing/confirm"),l.push("/")},v=()=>{_("/api/processing/reject"),l.push("/")},E=()=>{_("/api/processing/abort"),l.push("/")};return(a,o)=>(u(),c(M,{id:"itemapproval-page",class:"absolute-full flex flex-center"},{default:t(()=>[n.value?(u(),c(y,{key:0,draggable:!1,loading:"eager",src:`/api/processing/approval/${p(r).jobmodel.approval_id}`,fit:"contain",style:{height:"95%"},onError:o[0]||(o[0]=i=>n.value=!1),"loading-show-delay":"800"},null,8,["src"])):(u(),c(O,{key:1})),e(g,{position:"top-left",class:"q-ma-lg"},{default:t(()=>[e(m,{id:"layout-button-back",color:"grey",rounded:"","no-caps":"",onClick:o[1]||(o[1]=i=>E()),class:"action-button glass-effect"},{default:t(()=>[e(d,{left:"",name:"sym_o_cancel"}),s("div",null,f(a.$t("MSG_APPROVE_COLLAGE_ITEM_CANCEL_COLLAGE")),1)]),_:1})]),_:1}),e(g,{position:"bottom",class:"q-ma-lg"},{default:t(()=>[s("div",$,[s("div",q,[e(I,{color:"grey-8",class:"q-mr-xs"},{default:t(()=>[e(d,{name:"sym_o_tag",color:"white",class:"q-mr-xs"}),Q(" "+f(a.$t("LABEL_ELEMENT_X_OF_Y",{no:p(r).jobmodel.number_captures_taken,total:p(r).jobmodel.total_captures_to_take})),1)]),_:1})]),s("div",w,[e(m,{id:"item-approval-button-reject",stack:"",rounded:"",class:"q-mr-lg action-button col-auto glass-effect",color:"negative","no-caps":"",icon:"sym_o_thumb_down",label:a.$t("MSG_APPROVE_COLLAGE_ITEM_RETRY"),onClick:o[2]||(o[2]=i=>v())},null,8,["label"]),e(m,{id:"item-approval-button-approve",stack:"",rounded:"",class:"q-mr-sm action-button col-auto glass-effect",color:"positive","no-caps":"",icon:"sym_o_thumb_up",label:a.$t("MSG_APPROVE_COLLAGE_ITEM_APPROVE"),onClick:o[3]||(o[3]=i=>b())},null,8,["label"])])])]),_:1})]),_:1}))}});export{N as default};
